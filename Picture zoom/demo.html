<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片缩放</title>
</head>
<body>
    <div style="width: 400px;">
		<img src="images/macbook-small.jpg" id="myImage"><br>
		<input type="button" id="max" value="放大">
		<input type="button" id="min" value="缩小"> 
	</div>

	<script type="text/javascript">
		window.onload = function(){//保证图片完全加载
			var maxBtn = document.getElementById('max');
			var minBtn = document.getElementById('min');
	        var img = document.getElementById('myImage');
	        var maxWidth = img.width*2;//放大的宽度的极限值
	        var maxHeight = img.height*2;//放大的高度的极限值
	        var minWidth = img.width*0.5;//缩小宽度的极限值
	        var minHeight = img.height*0.5;//缩小高度的极限值

			maxBtn.onclick = function(){//添加放大点击事件
				maxFun();//放大函数
			}
			minBtn.onclick = function(){
				minFun();
			}

			//定义放大函数
			function maxFun(){
				/*图片宽高增加30%
				动画时间：120毫秒
				每隔20毫秒增加5%*/
				//设置定时器
				var endWidth = img.width*1.3;//每次点击后的宽度
				var endHeight = img.height*1.3;//每次点击后的高度
				var maxTimer = setInterval(function(){
					if(img.width < endWidth){
						if(img.width < maxWidth){
	                        img.width = img.width*1.05;
	                        img.height = img.height*1.05;
						}else{
							alert("已经放大到最大值了");
							clearInterval(maxTimer);
						}    
					}else{
						clearInterval(maxTimer);
					}
	                
				},20);
			}

            //缩小函数
            function minFun(){
				/*图片宽高缩小30%
				动画时间：120毫秒
				每隔20毫秒缩小5%*/
				//设置定时器
				var endWidth = img.width*0.7;//每次点击后的宽度
				var endHeight = img.height*0.7;//每次点击后的高度
				var maxTimer = setInterval(function(){
					if(img.width > endWidth){
						if(img.width > minWidth){
	                        img.width = img.width*0.95;
	                        img.height = img.height*0.95;
						}else{
							alert("已经缩小到最小值了");
							clearInterval(maxTimer);
						}    
					}else{
						clearInterval(maxTimer);
					}
	                
				},20);
			}


		}

	</script>
</body>
</html>