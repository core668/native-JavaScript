<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>回到顶部效果</title>
	<style type="text/css">
    .box{
    	width: 1190px;
    	margin: 0 auto;
    }
    #btn{
    	display: none;
    	width: 40px;
    	height: 40px;
    	position: fixed;
    	left: 50%;
    	margin-left: 610px;
    	bottom: 30px;
    	background: url(images/top_bg.png) no-repeat left top;
    }
    #btn:hover{
    	background: url(images/top_bg.png) no-repeat left -40px;
    }
	</style>

	<script type="text/javascript">
		window.onload = function(){
			var obtn = document.getElementById('btn');
			var timer = null;//存放定时器的变量
			var isTop = true;
			//获取页面可视区的高度
			var clientHeight = document.documentElement.clientHeight;
            
            //滚动条滚动时触发
            window.onscroll = function(){
            	var osTop = document.documentElement.scrollTop || document.body.scrollTop;
            	if(osTop >= clientHeight){
            		obtn.style.display = 'block';
            	}else{
            		obtn.style.display = 'none';
            	}
                if(!isTop){
                	clearInterval(timer);
                }
                isTop = false;
            }
            
			obtn.onclick = function(){
				timer = setInterval(function(){
					//获取滚动条距离顶部的高度
					var osTop = document.documentElement.scrollTop || document.body.scrollTop;
					var ispeed = Math.floor(-osTop / 5);//向下取整
					document.documentElement.scrollTop = document.body.scrollTop = osTop + ispeed;
                    isTop = true;
					if (osTop == 0) {
						clearInterval(timer);
					}
				},30);
			}
		}
	</script>
</head>
<body>
	<div class="box">
		<img src="images/tb_bg.jpg">
	</div>
	<a href="javascript:;" id="btn" title="回到顶部"></a>
</body>
</html>